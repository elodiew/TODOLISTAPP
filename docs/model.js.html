<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>model.js - Documentation</title>
    
    
    
    
    
    <meta property="og:title" content=""/>
    <meta property="og:type" content="website"/>
    <meta property="og:image" content=""/>
    
    <meta property="og:url" content=""/>
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <script src="scripts/nav.js" defer></script>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav class="wrap">
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h2><a href="https://todolistapp.elodie-devgirl.com/" target="_blank" class="menu-item" id="website_link" >Project Website</a></h2><h2><a href="https://github.com/elodiew/todo-list-app/wiki" target="_blank" class="menu-item" id="forum_link" >Wiki GitHub</a></h2><h3>Classes</h3><ul><li><a href="Controller.html">Controller</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Controller.html#_filter">_filter</a></li><li data-type='method' style='display: none;'><a href="Controller.html#_updateCount">_updateCount</a></li><li data-type='method' style='display: none;'><a href="Controller.html#_updateFilterState">_updateFilterState</a></li><li data-type='method' style='display: none;'><a href="Controller.html#addItem">addItem</a></li><li data-type='method' style='display: none;'><a href="Controller.html#editItem">editItem</a></li><li data-type='method' style='display: none;'><a href="Controller.html#editItemCancel">editItemCancel</a></li><li data-type='method' style='display: none;'><a href="Controller.html#editItemSave">editItemSave</a></li><li data-type='method' style='display: none;'><a href="Controller.html#removeCompletedItems">removeCompletedItems</a></li><li data-type='method' style='display: none;'><a href="Controller.html#removeItem">removeItem</a></li><li data-type='method' style='display: none;'><a href="Controller.html#setView">setView</a></li><li data-type='method' style='display: none;'><a href="Controller.html#showActive">showActive</a></li><li data-type='method' style='display: none;'><a href="Controller.html#showAll">showAll</a></li><li data-type='method' style='display: none;'><a href="Controller.html#showCompleted">showCompleted</a></li><li data-type='method' style='display: none;'><a href="Controller.html#toggleAll">toggleAll</a></li><li data-type='method' style='display: none;'><a href="Controller.html#toggleComplete">toggleComplete</a></li></ul></li><li><a href="Model.html">Model</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Model.html#create">create</a></li><li data-type='method' style='display: none;'><a href="Model.html#getCount">getCount</a></li><li data-type='method' style='display: none;'><a href="Model.html#read">read</a></li><li data-type='method' style='display: none;'><a href="Model.html#remove">remove</a></li><li data-type='method' style='display: none;'><a href="Model.html#removeAll">removeAll</a></li><li data-type='method' style='display: none;'><a href="Model.html#update">update</a></li></ul></li><li><a href="Store.html">Store</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Store.html#drop">drop</a></li><li data-type='method' style='display: none;'><a href="Store.html#find">find</a></li><li data-type='method' style='display: none;'><a href="Store.html#findAll">findAll</a></li><li data-type='method' style='display: none;'><a href="Store.html#remove">remove</a></li><li data-type='method' style='display: none;'><a href="Store.html#save">save</a></li></ul></li><li><a href="Template.html">Template</a><ul class='methods'><li data-type='method' style='display: none;'><a href="Template.html#clearCompletedButton">clearCompletedButton</a></li><li data-type='method' style='display: none;'><a href="Template.html#itemCounter">itemCounter</a></li><li data-type='method' style='display: none;'><a href="Template.html#show">show</a></li></ul></li><li><a href="View.html">View</a><ul class='methods'><li data-type='method' style='display: none;'><a href="View.html#_bindItemEditCancel">_bindItemEditCancel</a></li><li data-type='method' style='display: none;'><a href="View.html#_bindItemEditDone">_bindItemEditDone</a></li><li data-type='method' style='display: none;'><a href="View.html#_clearCompletedButton">_clearCompletedButton</a></li><li data-type='method' style='display: none;'><a href="View.html#_editItem">_editItem</a></li><li data-type='method' style='display: none;'><a href="View.html#_editItemDone">_editItemDone</a></li><li data-type='method' style='display: none;'><a href="View.html#_elementComplete">_elementComplete</a></li><li data-type='method' style='display: none;'><a href="View.html#_itemId">_itemId</a></li><li data-type='method' style='display: none;'><a href="View.html#_removeItem">_removeItem</a></li><li data-type='method' style='display: none;'><a href="View.html#_setFilter">_setFilter</a></li><li data-type='method' style='display: none;'><a href="View.html#bind">bind</a></li><li data-type='method' style='display: none;'><a href="View.html#render">render</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">model.js</h1>
    

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>(function (window) {
	'use strict';

	/**
	 * MODEL Création d'une nouvelle instance de Model et intéraction avec la classe Store
	 * Crée une nouvelle instance de modèle et connecte le stockage.
	 * @constructor
	 * @param {object} storage Identifie la classe Store côté client.
	 */
	class Model {
		constructor(storage) {
			this.storage = storage;
		}

		/**
		 * Créer un nouveau model de todo pour la tâche ajoutée
		 * @param {string} [title] Le titre de la tâche
		 * @param {function} [callback] La fonction appelé après que le model soit crée.
		 */
		create(title, callback) {
			title = title || '';
			callback = callback || function () {};

			let newItem = {
				title: title.trim(),
				completed: false
			};

			this.storage.save(newItem, callback);
		};

		/**
		 * Recherche et renvoie un modèle stocké. Si aucune requête n'est donnée, il sera simplement
		 * tout retourner. Si vous passez une chaîne ou un nombre, cela ressemblera à
		 * l'ID du modèle à trouver. Enfin, vous pouvez lui passer un objet pour correspondre
		 * contre.remove
		 * @param {string|number|object} [query] La requête pour filtrer les modèles
		 * @param {function} [callback] Une fonction de rappel à utiliser lorsqu'un model est trouvé
		 * 
		 * Recherche et retourne un modèle stocké. Si aucune requête n'est donnée, tout sera simplement retourné. Si vous transmettez une chaîne ou un nombre, il le recherchera en tant qu'ID du modèle à rechercher. Enfin, vous pouvez lui transmettre un objet à comparer. Recherche et retourne dans le localStorage un model stocké. Si aucune requête n'est envoyée, tous les models seront renvoyés. Si la requête est une chaine de caractère ou un nombre, la méthode recherchera un id de model à retourner Il est aussi possible de passer un objet à comparer dans la requête.
		 * @example 
		 * model.read(1, func); // Va chercher et trouver le modèle avec l'id 1
		 * model.read('1'); // Fera la même chose
		 *  Ci-dessous, un exemple avec foo égal à bar et hello égal à world
		 * model.read({ foo: 'bar', hello: 'world' });remove
		 */
		read(query, callback) {
			let queryType = typeof query;
			callback = callback || function () {};

			if (queryType === 'function') {
				callback = query;
				return this.storage.findAll(callback);
			} else if (queryType === 'string' || queryType === 'number') {
				query = parseInt(query, 10);
				this.storage.find({
					id: query
				}, callback);
			} else {
				this.storage.find(query, callback);
			}
		};

		/**
		 * Met à jour un modèle en lui attribuant un ID, des données à mettre à jour et une fonction de rappel appelée une fois la mise à jour terminée.
		 * @param {number} id L'id du model à mettre à jour
		 * @param {object} data Les données à mettre à jour et leurs nouvelles valeurs
		 * @param {function} callback La fonction de rappel utilisée après la mise à jour
		 */
		update(id, data, callback) {
			this.storage.save(data, callback, id);
		};

		/**
		 * Supprime un élément du stockage
		 * @param {number} id L'ID du modèle à supprimer
		 * @param {function} callback La fonction de rappel utilisée après la suppression
		 */
		remove(id, callback) {
			this.storage.remove(id, callback);
		};

		/**
		 * AVERTISSEMENT: Attention, cette méthode supprime tous les éléments du stockage
		 * @param {function} callback La fonction de rappel utilisée après la suppression
		 */
		removeAll(callback) {
			this.storage.drop(callback);
		};

		/**
		 * Retourne le nombre de todos
		 */
		getCount(callback) {
			let todos = {
				active: 0,
				completed: 0,
				total: 0
			};

			this.storage.findAll(function (data) {
				data.forEach(function (todo) {
					if (todo.completed) {
						todos.completed++;
					} else {
						todos.active++;
					}

					todos.total++;
				});
				callback(todos);
			});
		};
	};
	// Exporter vers window
	window.app = window.app || {};
	window.app.Model = Model;
})(window);</code></pre>
        </article>
    </section>




    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a> on Thu Aug 27 2020 14:29:00 GMT+0200 (GMT+02:00) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/polyfill.js"></script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/search.js" defer></script>


<script src="scripts/collapse.js" defer></script>


</body>
</html>
